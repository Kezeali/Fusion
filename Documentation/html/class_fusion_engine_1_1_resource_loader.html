<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Fusion: FusionEngine::ResourceLoader Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespace_fusion_engine.html">FusionEngine</a>::<a class="el" href="class_fusion_engine_1_1_resource_loader.html">ResourceLoader</a></div>
<h1>FusionEngine::ResourceLoader Class Reference</h1><!-- doxytag: class="FusionEngine::ResourceLoader" -->Loads and stores resources for gameplay.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;FusionResourceLoader.h&gt;</code>
<p>
<a href="class_fusion_engine_1_1_resource_loader-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7acd1f8e981e7beac7492db59bd55b28"></a><!-- doxytag: member="FusionEngine::ResourceLoader::SurfaceMap" ref="7acd1f8e981e7beac7492db59bd55b28" args="" -->
typedef std::map&lt; std::string,<br>
 CL_Surface * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#7acd1f8e981e7beac7492db59bd55b28">SurfaceMap</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map of surfaces. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="81ce579c035331706f3a065924134936"></a><!-- doxytag: member="FusionEngine::ResourceLoader::SoundBufferMap" ref="81ce579c035331706f3a065924134936" args="" -->
typedef std::map&lt; std::string,<br>
 CL_SoundBuffer * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#81ce579c035331706f3a065924134936">SoundBufferMap</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map of sound buffers. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d491aa214ec2e47b0f482010177155e8"></a><!-- doxytag: member="FusionEngine::ResourceLoader::ShipResourceMap" ref="d491aa214ec2e47b0f482010177155e8" args="" -->
typedef std::map&lt; std::string,<br>
 <a class="el" href="class_fusion_engine_1_1_ship_resource.html">ShipResource</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#d491aa214ec2e47b0f482010177155e8">ShipResourceMap</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map of ships. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="42126f32dce342db030e00effbd47463"></a><!-- doxytag: member="FusionEngine::ResourceLoader::ResourceLoader" ref="42126f32dce342db030e00effbd47463" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#42126f32dce342db030e00effbd47463">ResourceLoader</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5a572c72931abce8cbdedb4fac580869"></a><!-- doxytag: member="FusionEngine::ResourceLoader::~ResourceLoader" ref="5a572c72931abce8cbdedb4fac580869" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#5a572c72931abce8cbdedb4fac580869">~ResourceLoader</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="82d0f3990acfc6e2083bdba909094c72"></a><!-- doxytag: member="FusionEngine::ResourceLoader::ClearAll" ref="82d0f3990acfc6e2083bdba909094c72" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#82d0f3990acfc6e2083bdba909094c72">ClearAll</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clears and deletes all loaded resources. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_fusion_engine_1_1_package_type.html">PackageType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#dd6402368975508dcb37c6205f617988">GetPackageType</a> (const std::string &amp;name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deduces the type of resource stored in the given package.  <a href="#dd6402368975508dcb37c6205f617988"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#88a5996ef5b73a8ca770b33bb515bc0e">VerifyPackage</a> (RakNet::BitStream *stream)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Executed client-side when a VerifyPackage packet is received.  <a href="#88a5996ef5b73a8ca770b33bb515bc0e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#5a28ba1491d3255f902f2ab89e5316c2">LoadShips</a> (<a class="el" href="namespace_fusion_engine.html#77f24d39cb48a9f0579b53997867516a">StringVector</a> names)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verifies the existance and crc of a ship package. Verifies the existance and crc of a level package. Verifies the existance and crc of a weapon package. Forces the resource loader to load the defined ships.  <a href="#5a28ba1491d3255f902f2ab89e5316c2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#c970672bbb71633d34b23478b08f9dd4">LoadVerified</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loads all packages previously verified.  <a href="#c970672bbb71633d34b23478b08f9dd4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="597fe0cdb43ee4fda9ecf579b502865b"></a><!-- doxytag: member="FusionEngine::ResourceLoader::GetLoadedShips" ref="597fe0cdb43ee4fda9ecf579b502865b" args="()" -->
<a class="el" href="class_fusion_engine_1_1_resource_loader.html#d491aa214ec2e47b0f482010177155e8">ShipResourceMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#597fe0cdb43ee4fda9ecf579b502865b">GetLoadedShips</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks a loaded document for validity as a ship definiiton. <br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="61e03870415d96d49d9e364299861a5e"></a><!-- doxytag: member="FusionEngine::ResourceLoader::GetInstalledShips" ref="61e03870415d96d49d9e364299861a5e" args="()" -->
static <a class="el" href="namespace_fusion_engine.html#77f24d39cb48a9f0579b53997867516a">StringVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#61e03870415d96d49d9e364299861a5e">GetInstalledShips</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Self exp. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ccd5e325951b6cd8a83bf7142318413e"></a><!-- doxytag: member="FusionEngine::ResourceLoader::GetInstalledLevels" ref="ccd5e325951b6cd8a83bf7142318413e" args="()" -->
static <a class="el" href="namespace_fusion_engine.html#77f24d39cb48a9f0579b53997867516a">StringVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#ccd5e325951b6cd8a83bf7142318413e">GetInstalledLevels</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Self exp. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="14d19022eebf77d81a1834dc2a7f8b5d"></a><!-- doxytag: member="FusionEngine::ResourceLoader::GetInstalledWeapons" ref="14d19022eebf77d81a1834dc2a7f8b5d" args="()" -->
static <a class="el" href="namespace_fusion_engine.html#77f24d39cb48a9f0579b53997867516a">StringVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fusion_engine_1_1_resource_loader.html#14d19022eebf77d81a1834dc2a7f8b5d">GetInstalledWeapons</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Self exp. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Loads and stores resources for gameplay. 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="dd6402368975508dcb37c6205f617988"></a><!-- doxytag: member="FusionEngine::ResourceLoader::GetPackageType" ref="dd6402368975508dcb37c6205f617988" args="(const std::string &amp;name)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_fusion_engine_1_1_package_type.html">PackageType</a> FusionEngine::ResourceLoader::GetPackageType           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deduces the type of resource stored in the given package. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The filename of the package.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The <a class="el" href="class_fusion_engine_1_1_package_type.html">PackageType</a> of the package. If the file isn't found it returns FileNotFound. If the package is of unknown (invalid) type, it returns UnkownType. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="5a28ba1491d3255f902f2ab89e5316c2"></a><!-- doxytag: member="FusionEngine::ResourceLoader::LoadShips" ref="5a28ba1491d3255f902f2ab89e5316c2" args="(StringVector names)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ResourceLoader::LoadShips           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="namespace_fusion_engine.html#77f24d39cb48a9f0579b53997867516a">StringVector</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>names</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Verifies the existance and crc of a ship package. Verifies the existance and crc of a level package. Verifies the existance and crc of a weapon package. Forces the resource loader to load the defined ships. 
<p>
Calls parseShipDefinition on each of the packages named in the vector.<p>
<dl compact><dt><b>Remarks:</b></dt><dd>It is recomended that LoadVerified be used instead, as it will load only previously verified packages (that is, packages with the correct filename and crc.) </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="c970672bbb71633d34b23478b08f9dd4"></a><!-- doxytag: member="FusionEngine::ResourceLoader::LoadVerified" ref="c970672bbb71633d34b23478b08f9dd4" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool FusionEngine::ResourceLoader::LoadVerified           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Loads all packages previously verified. 
<p>
The <a class="el" href="class_fusion_engine_1_1_resource_loader.html">ResourceLoader</a> class stores a list of packages verified with VerifyPackage, VerifyShip, VerifyLevel and VerifyWeapon. This function iterates through that list, loading all resources. Using this method is recomended over directly calling LoadShips, LoadLevel, and LoadWeapons.<p>
<dl compact><dt><b>Remarks:</b></dt><dd>This method still has a return value (is failable) because even though the packages will have been verified as consistant with the server, the server may have bad packages installed! </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="88a5996ef5b73a8ca770b33bb515bc0e"></a><!-- doxytag: member="FusionEngine::ResourceLoader::VerifyPackage" ref="88a5996ef5b73a8ca770b33bb515bc0e" args="(RakNet::BitStream *stream)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool FusionEngine::ResourceLoader::VerifyPackage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">RakNet::BitStream *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>stream</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Executed client-side when a VerifyPackage packet is received. 
<p>
Verifies the existance and crc of a package.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>stream</em>&nbsp;</td><td>The VerifyPackage bitstream sent from the server. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>F:/Projects/Fusion/FusionEngine/FusionResourceLoader.h<li>F:/Projects/Fusion/FusionEngine/FusionResourceLoader.cpp</ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Oct 17 21:14:57 2006 for Fusion by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
